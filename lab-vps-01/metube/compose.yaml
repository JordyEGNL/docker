services:
  metube:
    image: alexta69/metube@sha256:9f7455c411a442993e19d6d6b0d15ffd2da6450c667a78e20fcd6c3c620e1bae
    container_name: metube
    restart: unless-stopped
    volumes:
      - MeTube:/downloads
    labels:
      traefik.enable: true
      traefik.http.routers.metube.entryPoints: websecure
      traefik.http.routers.metube.rule: Host(`yt.hoebergen.net`)
      traefik.http.routers.metube.middlewares: localAccess@file

networks:
  default:
    name: frontend
    external: true

volumes:
  MeTube:
    driver: local
    driver_opts:
      type: nfs
      o: addr=10.0.10.51,rw,nfsvers=3
      device: :/MeTube/
